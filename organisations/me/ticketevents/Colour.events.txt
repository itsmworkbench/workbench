{"event":"setValue","path":"forTicket.tempData.ticketType","value":{"ticketTypeDetails":{"ticketType":"Update Database","approvalState":"Needs Approval","validateInvolvedParties":true},"ticketType":{"capabilities":["Email","LDAP","ReceiveEmail","SQL"],"actions":{"CheckTicket":{"SelectKnowledgeArticle":{"by":"SelectKnowledgeArticle","recordInCapability":false},"ReviewTicket":{"by":"ReviewTicket"},"RequestMoreData":{"by":"Email","to":"issuer.email","optional":true,"highlyVariant":true},"checkProblemExists":{"by":"SQL"},"checkUser":{"safe":true,"by":"LDAP","who":"issuer.email"},"checkApprover":{"safe":true,"by":"LDAP","who":"approval.to"}},"Approval":{"requestApproval":{"by":"Email","to":"approval.to","waitingFor":[]},"receiveApproval":{"by":"ReceiveEmail","from":"approval.to","waitingFor":["requestApproval"]}},"Resolve":{"resolveTheIssue":{"by":"SQL","waitingFor":["checkIssueStillExists"]},"checkIssueStillExists":{"by":"SQL"}},"Close":{"requestClosure":{"by":"Email","to":"issuer.email","waitingFor":[]},"agreeClosure":{"by":"ReceiveEmail","from":"issuer.email","waitingFor":["requestClosure"]},"closed":{"by":"Ticket","waitingFor":["agreeClosure"]}},"Review":{"createKnowledgeArticle":{"by":"CreateKnowledgeArticle","recordInCapability":false,"optional":true}}}}},"context":{"display":{"title":"Ticket Type","type":"ticketType","hide":true}}}
{"event":"setId","id":"itsmid/me/ticket/efc2b0f9317cfd08caa615a17ce71138916c8b3c","path":"forTicket.ticket","context":{"display":{"title":"New Update Database Ticket","type":"ticket","name":"Colour"},"ticketTypeDetails":{"ticketType":"Update Database","approvalState":"Needs Approval","validateInvolvedParties":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.ReviewTicket","context":{"where":{"phase":"CheckTicket","action":"ReviewTicket","tab":"ReviewTicketWorkbench"},"capability":"ReviewTicket","display":{"title":"Review Ticket","type":"ReviewTicket","successOrFail":true},"data":{"attributes":{"Environment":"production","System":"EPX","elementId":"but-blue-123","currentColor":"red","desiredColor":"blue"}}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkProblemExists","context":{"capability":"SQL","where":{"phase":"CheckTicket","action":"checkProblemExists","tab":"SQLWorkbench"},"data":{"sql":"select * from products where item_id='but-blue-123'","response":""},"display":{"title":"Sql to Check Problem Exists","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.SelectKnowledgeArticle","context":{"where":{"phase":"CheckTicket","action":"SelectKnowledgeArticle","tab":"SelectKnowledgeArticleWorkbench"},"capability":"SelectKnowledgeArticle","display":{"title":"Select Knowledge Article","type":"SelectKnowledgeArticle","successOrFail":true},"data":{"id":{"url":"itsmid/me/ka/84cc4ab8ffe30733bfe3d128dd1704a6ed6190db","scheme":"itsmid","organisation":"me","namespace":"ka","id":"84cc4ab8ffe30733bfe3d128dd1704a6ed6190db"},"ticketType":{"id":"itsmid/me/ka/84cc4ab8ffe30733bfe3d128dd1704a6ed6190db","name":"Colour_demo_1","variables":["Environment","System","currentColor","desiredColor","itemId"],"capabilities":["Email","ReviewTicket","SQL"],"actions":{"CheckTicket":{"SelectKnowledgeArticle":{"by":"SelectKnowledgeArticle","recordInCapability":false},"ReviewTicket":{"by":"ReviewTicket"},"RequestMoreData":{"by":"Email","to":"issuer.email","optional":true,"highlyVariant":true},"checkProblemExists":{"by":"SQL","sql":"select * from products where item_id = '${itemId}'"}},"Approval":{"requestApproval":{"waitingFor":[],"by":"Email","to":"theboss@example.com","subject":"Request for Approval: Change Button Colour in ${System} Production Environment","email":"Issue:\n* in the ${System} ${Environment} environment the colour of the button is wrong. It should be ${desiredColor} and is ${currentColor}.\n  * The button is button id ${itemId}\n\nAction requested:\n* Please change the colour of the button to ${desiredColor}\n\nThank you for your attention to this matter.\n"},"receiveApproval":{"by":"ReceiveEmail","from":"approval.to","waitingFor":["requestApproval"]}},"Resolve":{"resolveTheIssue":{"waitingFor":["checkIssueStillExists"],"by":"SQL","sql":"update products set color ='${desiredColor}' where item_id = '${itemId}' "},"checkIssueStillExists":{"by":"SQL","sql":"select * from products where item_id = '${itemId}'"}},"Close":{"requestClosure":{"waitingFor":[],"by":"Email","to":"a.customer@example.com","subject":"Task Completion: Change Button Color in ${System} Production Environment","email":"I am writing to inform you that the requested change has been completed successfully. In the ${System} ${Environment} environment, the colour of the button with ID \"${itemId}\" has been changed from ${currentColor} to ${desiredColor}, as per your instructions.\n\nPlease review the environment to confirm that the button now appears in the correct color. If everything looks satisfactory, could you kindly close the ticket related to this task?\n\nThank you for your attention to this matter.\n\n"},"agreeClosure":{"by":"ReceiveEmail","from":"issuer.email","waitingFor":["requestClosure"]},"closed":{"by":"Ticket","waitingFor":["agreeClosure"]}},"Review":{"createKnowledgeArticle":{"by":"CreateKnowledgeArticle","recordInCapability":false,"optional":true}}}}}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.ReviewTicket","context":{"where":{"phase":"CheckTicket","action":"ReviewTicket","tab":"ReviewTicketWorkbench"},"capability":"ReviewTicket","display":{"title":"Review Ticket","type":"ReviewTicket","successOrFail":true},"data":{"attributes":{"Environment":"production","System":"EPX","itemId":"but-blue-123","currentColor":"red","desiredColor":"blue"}}}}
