{"event":"setValue","path":"forTicket.tempData.ticketType","value":{"ticketTypeDetails":{"ticketType":"General","approvalState":"Needs Approval","validateInvolvedParties":false},"ticketType":{"variables":["environment","projectId","system"],"capabilities":["Email","LDAP","ReviewTicket","SQL"],"actions":{"CheckTicket":{"SelectKnowledgeArticle":{"by":"SelectKnowledgeArticle","recordInCapability":false},"ReviewTicket":{"by":"ReviewTicket"},"RequestMoreData":{"by":"Email","to":"issuer.email","optional":true,"highlyVariant":true},"checkProblemExists":{"by":"SQL","sql":"select * from projects where project_id = '${projectId}'","env":"${environment}"},"checkUser":{"safe":true,"by":"LDAP","who":"philip.rice@hcl.com"},"checkApprover":{"safe":true,"by":"LDAP","who":"the.boss@example.com"}},"Approval":{"requestApproval":{"waitingFor":[],"by":"Email","to":"phil.rice@validoc.org","subject":"Request for Approval: Deletion of Project ${projectId} in ${system} Acceptance Environment","email":"I am writing to seek approval for the deletion of project ${projectId} in the ${system} acceptance environment. This project was created by mistake and needs to be removed promptly to avoid any confusion or issues.\n\nYour prompt approval to proceed with the deletion of project ${projectId} would be greatly appreciated. Please let me know if you require any further information or clarification regarding this matter.\n\nThank you for your attention to this request."},"receiveApproval":{"by":"ReceiveEmail","from":"approval.to","waitingFor":["requestApproval"]}},"Resolve":{"resolveTheIssue":{"waitingFor":["checkIssueStillExists"],"by":"SQL","sql":"delete from projects where project_id='${projectId}'","env":"${environment}"},"checkIssueStillExists":{"by":"SQL","sql":"select * from projects where project_id = '${projectId}'","env":"${environment}"}},"Close":{"requestClosure":{"waitingFor":[],"by":"Email","to":"philip.rice@hcl.com","subject":"Completion of Project ${projectId}: Request for Closure","email":"I am writing to inform you that the project ${projectId}, which was mistakenly created in the ${system} acceptance environment, has been successfully deleted as per your request. \n\nPlease proceed with closing the ticket associated with this project. \n\nThank you for your attention to this matter.\n\nBest regards,\n"},"agreeClosure":{"by":"ReceiveEmail","from":"issuer.email","waitingFor":["requestClosure"]},"closed":{"by":"Ticket","waitingFor":["agreeClosure"]}},"Review":{"createKnowledgeArticle":{"by":"CreateKnowledgeArticle","recordInCapability":false,"optional":true}}},"id":"itsmid/me/ka/b4de5c0d5710329b90fd03b613854f1ce7370501","name":"deleteproject"}},"context":{"display":{"title":"Ticket Type","type":"ticketType","hide":true}}}
{"event":"setId","id":"itsmid/me/ticket/79c5b5ed4b1a7fb7f65342ae60ea779e1112868d","path":"forTicket.ticket","context":{"display":{"title":"New General Ticket","type":"ticket","name":"itsm-hcl-666"},"ticketTypeDetails":{"ticketType":"General","approvalState":"Needs Approval","validateInvolvedParties":false}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.ReviewTicket","context":{"where":{"phase":"CheckTicket","action":"ReviewTicket","tab":"ReviewTicketWorkbench"},"capability":"ReviewTicket","display":{"title":"Review Ticket","type":"ReviewTicket","successOrFail":true},"data":{"attributes":{"projectId":"P-6666","environment":"oracle","system":"EPX"}}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkProblemExists","context":{"capability":"SQL","where":{"phase":"CheckTicket","action":"checkProblemExists","tab":"SQLWorkbench"},"data":{"sql":"select * from projects where project_id = 'P-6666'","response":{"cols":["comments","project_id","status"],"rows":[{"project_id":"P-6666","comments":"Created by error, please delete","status":1}]},"env":"oracle"},"display":{"title":"Sql to Check Problem Exists","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkUser","context":{"where":{"phase":"CheckTicket","action":"checkUser","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check User","type":"LDAP","successOrFail":true},"data":{"email":"phil.rice@validoc.org","response":""}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkApprover","context":{"where":{"phase":"CheckTicket","action":"checkApprover","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check Approver","type":"LDAP","successOrFail":true},"data":{"email":"the.boss@example.com","response":""}}}
{"event":"setValue","value":true,"path":"forTicket.status.Approval.requestApproval","context":{"capability":"Email","where":{"phase":"Approval","action":"requestApproval","tab":"EmailWorkbench"},"display":{"title":"Sending email [Request for Approval: Deletion of Project P-6666 in EPX Acceptance Environment]","type":"Email","successOrFail":true},"data":{"to":"phil.rice@validoc.org","subject":"Request for Approval: Deletion of Project P-6666 in EPX Acceptance Environment","email":"I am writing to seek approval for the deletion of project P-6666 in the EPX acceptance environment. This project was created by mistake and needs to be removed promptly to avoid any confusion or issues.\n\nYour prompt approval to proceed with the deletion of project P-6666 would be greatly appreciated. Please let me know if you require any further information or clarification regarding this matter.\n\nThank you for your attention to this request."}}}
{"event":"setValue","value":true,"path":"forTicket.status.Resolve.resolveTheIssue","context":{"capability":"SQL","where":{"phase":"Resolve","action":"resolveTheIssue","tab":"SQLWorkbench"},"data":{"sql":"delete from projects where project_id='P-6666'","response":"Updated 0 rows\n","env":"oracle"},"display":{"title":"Sql to Resolve The Issue","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.Resolve.checkIssueStillExists","context":{"capability":"SQL","where":{"phase":"Resolve","action":"checkIssueStillExists","tab":"SQLWorkbench"},"data":{"sql":"select * from projects where project_id = 'P-6666'","response":{"cols":[],"rows":[]},"env":"oracle"},"display":{"title":"Sql to Check Issue Still Exists","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.Close.requestClosure","context":{"capability":"Email","where":{"phase":"Close","action":"requestClosure","tab":"EmailWorkbench"},"display":{"title":"Sending email [Completion of Project P-6666: Request for Closure]","type":"Email","successOrFail":true},"data":{"to":"phil.rice@validoc.org","subject":"Completion of Project P-6666: Request for Closure","email":"I am writing to inform you that the project P-6666, which was mistakenly created in the EPX acceptance environment, has been successfully deleted as per your request. \n\nPlease proceed with closing the ticket associated with this project. \n\nThank you for your attention to this matter.\n\nBest regards,\n"}}}
{"event":"append","path":"conversation.messages","value":{"type":"message","who":"me","message":"open the jira ticket HCL-ITSM-123"},"context":{"display":{"title":"Message","type":"message"}}}
{"event":"append","path":"conversation.messages","value":{"type":"message","who":"me","message":"what do I need to do to close this ticket?"},"context":{"display":{"title":"Message","type":"message"}}}
{"event":"append","path":"conversation.messages","value":{"type":"message","who":"me","message":"summarise this ticket"},"context":{"display":{"title":"Message","type":"message"}}}
{"event":"append","path":"conversation.messages","value":{"type":"message","who":"me","message":"check the issue on the ticket exists"},"context":{"display":{"title":"Message","type":"message"}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkProblemExists","context":{"capability":"SQL","where":{"phase":"CheckTicket","action":"checkProblemExists","tab":"SQLWorkbench"},"data":{"sql":"select * from projects where project_id = 'P-6666'","response":"","env":"oracle"},"display":{"title":"Sql to Check Problem Exists","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkProblemExists","context":{"capability":"SQL","where":{"phase":"CheckTicket","action":"checkProblemExists","tab":"SQLWorkbench"},"data":{"sql":"select * from projects where projectId = 'P-6666'","response":"","env":"oracle"},"display":{"title":"Sql to Check Problem Exists","type":"SQL","successOrFail":true}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkUser","context":{"where":{"phase":"CheckTicket","action":"checkUser","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check User","type":"LDAP","successOrFail":true},"data":{"who":"a","response":""}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkUser","context":{"where":{"phase":"CheckTicket","action":"checkUser","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check User","type":"LDAP","successOrFail":true},"data":{"who":"","response":""}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkUser","context":{"where":{"phase":"CheckTicket","action":"checkUser","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check User","type":"LDAP","successOrFail":true},"data":{"who":"","response":""}}}
{"event":"setValue","value":true,"path":"forTicket.status.CheckTicket.checkUser","context":{"where":{"phase":"CheckTicket","action":"checkUser","tab":"LDAPWorkbench"},"capability":"LDAP","display":{"title":"Ldap check to Check User","type":"LDAP","successOrFail":true},"data":{"who":"phil.rice@validoc.org","response":""}}}
