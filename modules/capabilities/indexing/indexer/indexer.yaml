---
defaults:
  query:
    retry:
      initialInterval: 5000
      maximumInterval: 30000
      maximumAttempts: 50
      nonRecoverableErrors:
        - Not Found
    throttle:
      max: 100
      tokensPer100ms: 0.1
  auth:
    method: ApiKey
    credentials:
      apiKey: "{source}_APIKEY"
  target:
    retry: defaultRetryPolicy
    throttle:
      max: 10000
    file: "{rootDir}/index/{index}/{name}_{num}.json"
    max: 10000000
  scan:
    aclIndex: .search-acl-filter-{index}
index:
#  jiraAcl:
#    scan:
#      groupMembersFile: group.members.csv
#      index: .search-acl-filter-jira-prod
#  jiraProd:
#    type: jira
#    scan:
#      auth:
#        method: ApiKey
#        credentials:
#          apiKey: JIRA_PROD
#      index: jira-prod
#      projects: "*"
#      indexPeople: false
#      baseurl: https://jira.eon.com/
#      apiVersion: "2"
  gitlab:
    target:
      file: target/index/{index}/Project_{id_3}_{num}.json
    scan:
      baseurl: https://git.eon-cds.de/
      auth:
        method: PrivateToken
        credentials:
          token: GITLAB_TOKEN
      projects:
        - 33519
  gitlabAcl:
    type: gitlabAcl
    scan:
      baseurl: https://git.eon-cds.de/
      idPattern: "{id}@eon.com"
      index: .search-acl-filter-gitlab-prod
      auth:
        method: PrivateToken
        credentials:
          token: GITLAB_TOKEN
#  confluenceAcl:
#    type: confluenceAcl
#    scan:
#      baseurl: https://confluence.eon.com/
#      spaces:
#        - m8nmvp1
#      auth:
#        method: ApiKey
#        credentials:
#          apiKey: CONFLUENCE_TOKEN
#      index: .search-acl-filter-confluence-prod
#  confluence:
#    query:
#      throttle:
#        max: 100
#        tokensPer100ms: 0.1
#    scan:
#      baseurl: https://confluence.eon.com/
#      auth:
#        method: ApiKey
#        credentials:
#          apiKey: CONFLUENCE_TOKEN
#      index: confluence-prod
